sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,s,i){"use strict";return e.extend("zatualizacaocadastral.controller.ErrorHandler",{constructor:function(e){var t=sap.ui.getCore().getMessageManager(),n=t.getMessageModel(),r=e.getModel("i18n").getResourceBundle(),o=r.getText("errorText"),a=r.getText("multipleErrorsText");n.setSizeLimit(1e3);this._oComponent=e;this._bMessageOpen=false;this.oMessageModelBinding=n.bindList("/",undefined,[],new s("technical",i.EQ,true));this.oMessageModelBinding.attachChange(function(e){var s=e.getSource().getContexts(),i=[],n;if(this._bMessageOpen||!s.length){return}s.forEach(function(e){i.push(e.getObject())});t.removeMessages(i);n=i.length===1?o:a;this._showServiceError(n,i[0].message)},this)},_showServiceError:function(e,s){this._bMessageOpen=true;t.error(e,{id:"serviceErrorMessageBox",details:s,styleClass:this._oComponent.getContentDensityClass(),actions:[t.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}})});