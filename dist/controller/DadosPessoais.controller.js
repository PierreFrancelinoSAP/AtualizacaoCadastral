sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,a,t,o){"use strict";return e.extend("zatualizacaocadastral.controller.DadosPessoais",{onInit:function(){var e=this.getOwnerComponent().getModel("JSONModel");this.getView().setModel(e)},onAfterRendering:function(){this.applyMasks()},applyMasks:function(){var e=this.getOwnerComponent().getModel("JSONModel");var a=e.getData();if(a.isBusy==false){this.byId("inputTelefoneCelular")._applyMask();this.byId("inputTelefoneContato")._applyMask();this.byId("inputCelularCorporativo")._applyMask();this.byId("inputCep")._applyMask()}},onActionSave:function(){var e={};var a=this.getView().getModel().getData();var t=[];var o=[];var r=[];e.Pernr=a.Pernr;e.NomeColaborador=a.NomeColaborador;e.TelefoneCelular=a.TelefoneCelular;e.TelefoneContato=a.TelefoneContato;e.CelularCorporativo=a.CelularCorporativo;e.EmailParticular=a.EmailParticular;e.EmailCorporativo=a.EmailCorporativo;e.Rua=a.Rua;e.Numero=a.Numero;e.Bairro=a.Bairro;e.Complemento=a.Complemento;e.Cidade=a.Cidade;e.Cep=a.Cep;e.Estado=a.Estado;e.Pais=a.Pais;e.GrupoEmpregado=a.GrupoEmpregado;e.GrupoEmpregadoTexto=a.GrupoEmpregadoTexto;e.SubgrupoEmpregado=a.SubgrupoEmpregado;e.SubgrupoEmpregadoTexto=a.SubgrupoEmpregadoTexto;e.AreaRh=a.AreaRh;e.AreaRhTexto=a.AreaRhTexto;e.dependenteSet=o;e.documentoSet=t;this.executeOdataCreate(e)},onValueHelpRequest:function(e){var r=e.getSource().getValue(),i=this.getView();if(!this._pValueHelpDialog){this._pValueHelpDialog=a.load({id:i.getId(),name:"zatualizacaocadastral.fragment.ValueHelpDialog",controller:this}).then(function(e){e.setModel(i.getModel());return e})}this._pValueHelpDialog.then(function(e){e.getBinding("items").filter([new t("DescricaoPais",o.Contains,r)]);e.open(r)})},onSuggestionItemSelected:function(e){var a=e.getParameter("selectedItem");var t=a?a.getKey():"";this.byId("selectedKeyIndicator").setText(t)},onValueHelpDialogClose:function(e){var a,t,o;o=e.getParameter("selectedItem");if(!o){return}t=o.getDescription();this.byId("inputPais").setValue(t)},onClearPress:function(){sap.ui.getCore().getMessageManager().removeAllMessages()},onValueHelpDialogSearch:function(e){var a=e.getParameter("value");var r=new t("DescricaoPais",o.Contains,a);e.getSource().getBinding("items").filter([r])},_getMessagePopover:function(){var e=this.getView();if(!this._pMessagePopover){this._pMessagePopover=a.load({id:e.getId(),name:"zatualizacaocadastral.fragment.MessagePopover"}).then(function(a){e.addDependent(a);return a})}return this._pMessagePopover},onMessagePopoverPress:function(e){var a=e.getSource();this._getMessagePopover().then(function(e){e.openBy(a)})},executeOdataCreate:function(e){var a=this.getOwnerComponent().getModel("ODataModel");var t=this.getView().getModel();t.setProperty("/isBusy",true);a.create("/headerSet",e,{success:jQuery.proxy(function(e,a){var o=a.headers["sap-message"];var r=JSON.parse(o);console.log(r);console.log(r.message);t.setProperty("/isBusy",false)},this),error:function(e){t.setProperty("/isBusy",false);alert("Failure - OData Service could not be called. Please check the Network Tab at Debug.")}})}})});